#!/bin/bash

BINARY="./minishell"

SUPPRESSION_FILE="/readline.supp"

valgrind --leak-check=full --show-leak-kinds=all --track-origins=yes \
--suppressions=$SUPPRESSION_FILE --log-file="valgrind_output.log" $BINARY

echo "Vérification des fuites de mémoire (hors readline)..."
grep -i "definitely lost" valgrind_output.log

